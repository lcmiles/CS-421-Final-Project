<!DOCTYPE html>

<html>

<head>

    <title>Home</title>

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">

</head>

<body>

    <div class="top-left-box">

        <div class="user-info">

            <div class="user-box">

                {% if user.profile_picture %}

                <img src="{{ url_for('static', filename=user.profile_picture) }}" alt="Profile Picture" class="profile-picture">

                {% else %}

                <img src="{{ url_for('static', filename='default.png') }}" alt="Default Profile Picture" class="profile-picture">

                {% endif %}

                <span><a href="{{ url_for('view_profile', username=session['username']) }}" class="username">{{ session['username'] }}</a></span>

                <button onclick="window.location.href='{{ url_for('edit_profile') }}'" class="edit-profile-btn">Edit Profile</button>

            </div>

        </div>

        <form action="{{ url_for('logout') }}" method="post">

            <input type="submit" value="Logout">

        </form>

    </div>

    <div class="container">

        <form action="/" method="post">

            <input class="post-input-box" placeholder="Post Content" name="post" type="text" required>

            <input type="submit" value="Post">

        </form>

        {% for post in posts %}

        <div class="post">

            <div class="post-box">

                <div class="post-header">
                    {% if user.profile_picture %}

                    <img src="{{ url_for('static', filename=post.user.profile_picture) }}" alt="Profile Picture" class="post-profile-picture">

                    {% else %}

                    <img src="{{ url_for('static', filename='default.png') }}" alt="Default Profile Picture" class="post-profile-picture">

                    {% endif %}

                    <span class="username-container"><a style="color:dodgerblue" href="{{ url_for('view_profile', username=post.user.username) }}" class="username">{{ post.user.username }}</a></span>

                    <span class="time">{{ post.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</span>

                </div>

                <div class="post-content">{{ post.content }}</div>

            </div>

        </div>

        {% endfor %}

    </div>

</body>

</html>
 